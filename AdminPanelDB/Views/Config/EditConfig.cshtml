@model AdminPanelDB.Models.ConfigEntry

<h2 style="text-align:center;">Config bearbeiten</h2>

@if (ViewBag.Error != null)
{
    <p style="color:red; text-align:center; font-weight:bold;">
        @ViewBag.Error
    </p>
}

<div class="form-container">
<form asp-action="EditConfig" method="post">
    <input type="hidden" asp-for="Id" />

    <!-- Aktuelle Seite und Sortierung speichern. -->
    <input type="hidden" name="page" value="@ViewBag.Page" />
    <input type="hidden" name="sortColumn" value="@ViewBag.SortColumn" />
    <input type="hidden" name="sortDirection" value="@ViewBag.SortDirection" />
    <input type="hidden" name="pageSize" value="@ViewBag.PageSize" />

        <div> 
            <label asp-for="System">System:</label> 
            <select asp-for="System" class="form-control"> @foreach (var system in ViewBag.SystemOptions as List<string>) 
                {
                    if (system == Model.System) 
                    {
                        <option value="@system" selected="selected">@system</option>
                    } else
                    {
                        <option value="@system">@system</option>
                    } 
                }
            </select> 
        </div>

         <div> 
             <label asp-for="ProjektName">ProjektName:</label>
             <select asp-for="ProjektName" class="form-control"> @foreach (var project in ViewBag.ProjectOptions as List<string>) 
             { 
                 if (project == Model.ProjektName) 
                 {
                    <option value="@project" selected="selected">@project</option>
                 } else
                 {
                    <option value="@project">@project</option>
                 } 
             }
             </select> 
         </div>

         <div>
             <label>KeyBezeichnung</label>
            <input asp-for="KeyBezeichnung" maxlength="120" />
         </div>

        <div>
            <label>StringValue</label>
            <textarea asp-for="StringValue" id="StringValue"></textarea>
        </div>

        <div>
            <label>IntValue</label>
            <input asp-for="IntValue" type="number" id="IntValue" />
        </div>

        <div>
            <label for="BoolValue">BoolValue:</label>
            <select id="BoolValue" name="BoolValue">
                <option value="">— null —</option>
                @if (Model.BoolValue == true)
                {
                    <option value="true" selected>True</option>
                    <option value="false">False</option>
                }
                else if (Model.BoolValue == false)
                {
                    <option value="true">True</option>
                    <option value="false" selected>False</option>
                }
                else
                {
                    <option value="true">True</option>
                    <option value="false">False</option>
                }
            </select>
        </div>

        <div>
            <label>DateTimeValue</label>
            <input asp-for="DateTimeValue" type="datetime-local" id="DateTimeValue" />
        </div>

        <div>
            <label>Beschreibung</label>
            <textarea asp-for="Beschreibung" maxlength="250"></textarea>
        </div>

        <div>
            <label>IstAktiv</label>
            <input type="checkbox" name="IstAktiv" value="true" @(Model.IstAktiv == true ? "checked" : "") />
            <input type="hidden" name="IstAktiv" value="false" />
        </div>

        <div style="margin-bottom:10px;">
            <label>AnpassungGesperrt</label>
            <input type="checkbox" name="AnpassungGesperrt" value="true" @(Model.AnpassungGesperrt == true ? "checked" : "") />
            <input type="hidden" name="AnpassungGesperrt" value="false" />
        </div>

        <button type="submit">Speichern</button>
</form>

<a asp-action="Config" asp-route-page="@ViewBag.Page"
   asp-route-pageSize="@ViewBag.PageSize"
   asp-route-sortColumn="@ViewBag.SortColumn"
   asp-route-sortDirection="@ViewBag.SortDirection">Züruck</a>

</div>
